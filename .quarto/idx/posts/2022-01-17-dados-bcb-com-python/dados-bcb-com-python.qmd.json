{"title":"Obtendo Dados do BCB com Python","markdown":{"yaml":{"title":"Obtendo Dados do BCB com Python","description":"Obter os dados para an√°lise de forma simples √© fundamental e necess√°rio.\n","preview":"expectativas.png","author":[{"name":"Wilson Freitas","url":{}}],"date":"2022-01-17","categories":["Python","bcb","opendata"],"execute":{"freeze":"auto"}},"containsRefs":false,"markdown":"\n\n\nObter os dados para an√°lise de forma simples √© fundamental e necess√°rio.\n\nDepois de passar alguns anos mantendo o pacote {rbcb} que faz a integra√ß√£o do R com as APIs de dados abertos do Banco Central, decidi fazer o port para Python.\n\nEm parte porque o PyPI (Python Package Index - reposit√≥rio de pacotes do Python) √© bem menos burocr√°tico que o CRAN (reposit√≥rio de pacote do R), mas nos √∫ltimos anos tenho mexido mais com Python e fazia sentido portar algumas ferramentas.\n\nO pacote {python-bcb} √© a contraparte em Python do pacote {rbcb} do R.\n\nS√≥ que acabou ficando maior, n√£o por causa do Python, mas por que eu estava com tempo e paci√™ncia e acabei implementando parte da especifica√ß√£o OData. Isso permite de forma bem simples integrar diversas APIs do Banco Central que implementam essa especifica√ß√£o. Na minha √∫ltima contagem tinha 39 APIs nessa estrutura.\n\nO pacote {python-bcb} traz as seguintes APIs:\n\n- SGS\n- S√©ries de Moedas do Conversor de Moedas do Banco Central\n- Expectativas do FOCUS\n- Boletins da PTAX (abertura, 3 intradi√°rios, fechamento)\n- Dados selecionados de institui√ß√µes financeiras (IFDATA)\n\nAgora o que d√° mais trabalho ao fazer a integra√ß√£o de uma API √© escrever a documenta√ß√£oüòâ dado que as APIs n√£o s√£o padronizadas.\n\nVou comunicando aqui na medida que novas APIs forem sendo integradas.\n\nObviamente espero todo o tipo de coment√°rios e sugest√µes.\n\nDocumenta√ß√£o do projeto: <https://wilsonfreitas.github.io/python-bcb/index.html>\n\nLink do projeto: <https://github.com/wilsonfreitas/python-bcb>\n\nNo c√≥digo abaixo trago um exemplo que como utilizar a API de Expectativas do FOCUS para obter um DataFrame das expectativas de IPCA de 2021 ao longo de 2021.\n\n```{python}\nfrom bcb import Expectativas\n\nem = Expectativas()\nep = em.get_endpoint(\"ExpectativasMercadoAnuais\")\n\ndf_ipca_2021 = (\n    ep.query()\n      .filter(ep.Indicador == \"IPCA\")\n      .filter(ep.Data >= \"2021-01-01\", ep.Data <= \"2021-12-31\")\n      .filter(ep.DataReferencia == \"2021\", ep.baseCalculo == 1)\n      .orderby(ep.Data.asc())\n      .select(ep.Data, ep.Media, ep.Mediana)\n      .limit(10)\n      .collect()\n)\n\ndf_ipca_2021\n```\n\n\n\n\n\n\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"dados-bcb-com-python.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.335","theme":"litera","title-block-banner":true,"title":"Obtendo Dados do BCB com Python","description":"Obter os dados para an√°lise de forma simples √© fundamental e necess√°rio.\n","preview":"expectativas.png","author":[{"name":"Wilson Freitas","url":{}}],"date":"2022-01-17","categories":["Python","bcb","opendata"]},"extensions":{"book":{"multiFile":true}}}}}